---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "Proxmox Backup Server Provider"
subcategory: ""
description: |-
  Terraform provider for managing Proxmox Backup Server resources.
---

# Proxmox Backup Server Provider

This provider allows you to manage Proxmox Backup Server resources using Terraform.

## Example Usage

```terraform
terraform {
  required_providers {
    pbs = {
      source  = "mcfitz2/pbs"
      version = "~> 0.1"
    }
  }
}

provider "pbs" {
  address  = "https://pbs.example.com:8007"
  username = "admin@pbs"
  password = var.pbs_password
  insecure = false
}
```

## Authentication

The provider supports two authentication methods:

### Username/Password Authentication

```terraform
provider "pbs" {
  address  = "https://pbs.example.com:8007"
  username = "admin@pbs"
  password = var.pbs_password
}
```

### API Token Authentication

```terraform
provider "pbs" {
  address   = "https://pbs.example.com:8007"
  api_token = var.pbs_api_token
}
```

## Configuration via Environment Variables

All provider configuration options can be set via environment variables:

```bash
export PBS_ADDRESS="https://pbs.example.com:8007"
export PBS_USERNAME="admin@pbs"
export PBS_PASSWORD="your-password"
# Or use API token instead
export PBS_API_TOKEN="your-api-token"
export PBS_INSECURE_TLS="false"
```

## Notifications (PBS 4.0)

- SMTP and Sendmail targets now require `mailto` to be declared as a list, for example `mailto = ["alerts@example.com", "oncall@example.com"]`.
- Webhook targets normalize the HTTP method to lowercase to match the PBS 4.0 API.
- A new `pbs_notification_endpoint` resource manages notification endpoint groups that aggregate multiple targets.
- All notification resources now surface the `origin` reported by PBS so you can identify auto-generated versus user-managed entries.

## Schema

### Required

- `address` (String) The URL of the Proxmox Backup Server (e.g., https://pbs.example.com:8007). Can be set via `PBS_ADDRESS` environment variable.

### Optional

- `username` (String) PBS username (e.g., admin@pbs). Required if `api_token` is not set. Can be set via `PBS_USERNAME` environment variable.
- `password` (String, Sensitive) PBS password. Required if `api_token` is not set. Can be set via `PBS_PASSWORD` environment variable.
- `api_token` (String, Sensitive) PBS API token. Alternative to username/password authentication. Can be set via `PBS_API_TOKEN` environment variable.
- `insecure` (Boolean) Skip TLS certificate verification. Useful for self-signed certificates. Defaults to `false`. Can be set via `PBS_INSECURE_TLS` environment variable.
